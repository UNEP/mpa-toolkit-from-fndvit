@use "../util.scss" as *;
@use './config.scss' as *;

@function check-styles($font-size, $weight, $line-height: null) {
  @return (
    is-unit($font-size, "px") and
    is-unit($weight, "") and
    ($line-height == null or is-unit($line-height, "px") or is-unit($line-height, ""))
  );
}

@each $font-name, $font-spec in $typography {
  $font-family: nth($font-spec, 1);
  $font-style-map: nth($font-spec, 2);
  @each $font-sub-type, $font-style in $font-style-map {
    $valid:check-styles($font-style...);
    @if not check-styles($font-style...) {
      @error "Invalid font style for " + $font-name;
    }
  }
}
